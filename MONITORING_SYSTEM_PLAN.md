# ğŸ“Š ëª¨ë‹ˆí„°ë§ ì‹œìŠ¤í…œ êµ¬ì¶• ê³„íš

## ğŸ“‹ **ê°œìš”**

Community Platform 2.0ì˜ ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§ ì‹œìŠ¤í…œì„ êµ¬ì¶•í•˜ì—¬ ì‹œìŠ¤í…œ ìƒíƒœ, ì„±ëŠ¥, ì‚¬ìš©ì í™œë™ì„ ì‹¤ì‹œê°„ìœ¼ë¡œ ì¶”ì í•˜ê³  ê´€ë¦¬í•©ë‹ˆë‹¤.

---

## ğŸ¯ **ëª¨ë‹ˆí„°ë§ ì‹œìŠ¤í…œ ëª©í‘œ**

### **1. ì‹¤ì‹œê°„ ì‹œìŠ¤í…œ ëª¨ë‹ˆí„°ë§**
- **ì‹œìŠ¤í…œ ìƒíƒœ**: CPU, ë©”ëª¨ë¦¬, ë””ìŠ¤í¬, ë„¤íŠ¸ì›Œí¬ ì‚¬ìš©ëŸ‰
- **ì• í”Œë¦¬ì¼€ì´ì…˜ ì„±ëŠ¥**: ì‘ë‹µ ì‹œê°„, ì²˜ë¦¬ëŸ‰, ì—ëŸ¬ìœ¨
- **ë°ì´í„°ë² ì´ìŠ¤ ì„±ëŠ¥**: ì¿¼ë¦¬ ì„±ëŠ¥, ì—°ê²° ìƒíƒœ, ìºì‹œ íš¨ìœ¨ì„±
- **ì‚¬ìš©ì í™œë™**: í™œì„± ì‚¬ìš©ì, ì„¸ì…˜, ìš”ì²­ íŒ¨í„´

### **2. ì•Œë¦¼ ë° ê²½ê³  ì‹œìŠ¤í…œ**
- **ì„ê³„ê°’ ê¸°ë°˜ ì•Œë¦¼**: ì„¤ì •ëœ ì„ê³„ê°’ ì´ˆê³¼ ì‹œ ì¦‰ì‹œ ì•Œë¦¼
- **ë‹¤ì¤‘ ì±„ë„ ì•Œë¦¼**: ì´ë©”ì¼, SMS, Slack, Discord
- **ì•Œë¦¼ ìš°ì„ ìˆœìœ„**: Critical, High, Medium, Low
- **ì•Œë¦¼ ê·¸ë£¹í•‘**: ê´€ë ¨ ì•Œë¦¼ ìë™ ê·¸ë£¹í™”

### **3. ë¡œê·¸ ë¶„ì„ ë° ì¶”ì **
- **êµ¬ì¡°í™”ëœ ë¡œê¹…**: JSON í˜•íƒœì˜ êµ¬ì¡°í™”ëœ ë¡œê·¸
- **ë¡œê·¸ ì§‘ê³„**: ELK Stack ê¸°ë°˜ ë¡œê·¸ ìˆ˜ì§‘ ë° ë¶„ì„
- **ì‹¤ì‹œê°„ ë¡œê·¸ ìŠ¤íŠ¸ë¦¬ë°**: ì‹¤ì‹œê°„ ë¡œê·¸ ëª¨ë‹ˆí„°ë§
- **ë¡œê·¸ ê²€ìƒ‰ ë° í•„í„°ë§**: ê°•ë ¥í•œ ë¡œê·¸ ê²€ìƒ‰ ê¸°ëŠ¥

---

## ğŸ—ï¸ **ëª¨ë‹ˆí„°ë§ ì•„í‚¤í…ì²˜**

### **1. ë°ì´í„° ìˆ˜ì§‘ ê³„ì¸µ**
```
ğŸ“Š ë°ì´í„° ìˆ˜ì§‘ ê³„ì¸µ
â”œâ”€â”€ ğŸ” ë©”íŠ¸ë¦­ ìˆ˜ì§‘ê¸° (Prometheus)
â”‚   â”œâ”€â”€ Node Exporter (ì‹œìŠ¤í…œ ë©”íŠ¸ë¦­)
â”‚   â”œâ”€â”€ MySQL Exporter (DB ë©”íŠ¸ë¦­)
â”‚   â”œâ”€â”€ Redis Exporter (ìºì‹œ ë©”íŠ¸ë¦­)
â”‚   â””â”€â”€ Custom Exporter (ì• í”Œë¦¬ì¼€ì´ì…˜ ë©”íŠ¸ë¦­)
â”œâ”€â”€ ğŸ“ ë¡œê·¸ ìˆ˜ì§‘ê¸° (Filebeat)
â”‚   â”œâ”€â”€ ì• í”Œë¦¬ì¼€ì´ì…˜ ë¡œê·¸
â”‚   â”œâ”€â”€ ì‹œìŠ¤í…œ ë¡œê·¸
â”‚   â”œâ”€â”€ ì—ëŸ¬ ë¡œê·¸
â”‚   â””â”€â”€ ì•¡ì„¸ìŠ¤ ë¡œê·¸
â””â”€â”€ ğŸ“ˆ ì´ë²¤íŠ¸ ìˆ˜ì§‘ê¸°
    â”œâ”€â”€ ì‚¬ìš©ì ì´ë²¤íŠ¸
    â”œâ”€â”€ ë¹„ì¦ˆë‹ˆìŠ¤ ì´ë²¤íŠ¸
    â”œâ”€â”€ ë³´ì•ˆ ì´ë²¤íŠ¸
    â””â”€â”€ ì„±ëŠ¥ ì´ë²¤íŠ¸
```

### **2. ë°ì´í„° ì €ì¥ ê³„ì¸µ**
```
ğŸ’¾ ë°ì´í„° ì €ì¥ ê³„ì¸µ
â”œâ”€â”€ ğŸ“Š ì‹œê³„ì—´ ë°ì´í„°ë² ì´ìŠ¤ (InfluxDB)
â”‚   â”œâ”€â”€ ë©”íŠ¸ë¦­ ë°ì´í„°
â”‚   â”œâ”€â”€ ì„±ëŠ¥ ë°ì´í„°
â”‚   â””â”€â”€ ì‚¬ìš©ì í™œë™ ë°ì´í„°
â”œâ”€â”€ ğŸ” ë¡œê·¸ ì €ì¥ì†Œ (Elasticsearch)
â”‚   â”œâ”€â”€ êµ¬ì¡°í™”ëœ ë¡œê·¸
â”‚   â”œâ”€â”€ ê²€ìƒ‰ ì¸ë±ìŠ¤
â”‚   â””â”€â”€ ë¡œê·¸ ì•„ì¹´ì´ë¸Œ
â””â”€â”€ ğŸ“ˆ ë¶„ì„ ë°ì´í„°ë² ì´ìŠ¤ (ClickHouse)
    â”œâ”€â”€ ì§‘ê³„ ë°ì´í„°
    â”œâ”€â”€ í†µê³„ ë°ì´í„°
    â””â”€â”€ ë¦¬í¬íŠ¸ ë°ì´í„°
```

### **3. ì‹œê°í™” ë° ì•Œë¦¼ ê³„ì¸µ**
```
ğŸ“Š ì‹œê°í™” ë° ì•Œë¦¼ ê³„ì¸µ
â”œâ”€â”€ ğŸ“ˆ ëŒ€ì‹œë³´ë“œ (Grafana)
â”‚   â”œâ”€â”€ ì‹œìŠ¤í…œ ëŒ€ì‹œë³´ë“œ
â”‚   â”œâ”€â”€ ì• í”Œë¦¬ì¼€ì´ì…˜ ëŒ€ì‹œë³´ë“œ
â”‚   â”œâ”€â”€ ë¹„ì¦ˆë‹ˆìŠ¤ ëŒ€ì‹œë³´ë“œ
â”‚   â””â”€â”€ ì‚¬ìš©ì ì •ì˜ ëŒ€ì‹œë³´ë“œ
â”œâ”€â”€ ğŸš¨ ì•Œë¦¼ ì‹œìŠ¤í…œ (AlertManager)
â”‚   â”œâ”€â”€ ì´ë©”ì¼ ì•Œë¦¼
â”‚   â”œâ”€â”€ SMS ì•Œë¦¼
â”‚   â”œâ”€â”€ Slack ì•Œë¦¼
â”‚   â””â”€â”€ Discord ì•Œë¦¼
â””â”€â”€ ğŸ“± ëª¨ë°”ì¼ ì•±
    â”œâ”€â”€ ì‹¤ì‹œê°„ ì•Œë¦¼
    â”œâ”€â”€ ëŒ€ì‹œë³´ë“œ ë·°
    â””â”€â”€ ì›ê²© ì œì–´
```

---

## ğŸ”§ **êµ¬í˜„ ê³„íš**

### **1. ë©”íŠ¸ë¦­ ìˆ˜ì§‘ ì‹œìŠ¤í…œ**

#### **Prometheus ì„¤ì •**
```yaml
# prometheus.yml
global:
  scrape_interval: 15s
  evaluation_interval: 15s

rule_files:
  - "alert_rules.yml"

scrape_configs:
  - job_name: 'community-platform'
    static_configs:
      - targets: ['localhost:5000']
    metrics_path: '/api/performance/metrics'
    scrape_interval: 5s

  - job_name: 'mysql'
    static_configs:
      - targets: ['localhost:9104']

  - job_name: 'redis'
    static_configs:
      - targets: ['localhost:9121']

  - job_name: 'node'
    static_configs:
      - targets: ['localhost:9100']
```

#### **ì•Œë¦¼ ê·œì¹™**
```yaml
# alert_rules.yml
groups:
  - name: community-platform
    rules:
      - alert: HighErrorRate
        expr: rate(http_requests_total{status=~"5.."}[5m]) > 0.1
        for: 5m
        labels:
          severity: critical
        annotations:
          summary: "High error rate detected"
          description: "Error rate is {{ $value }} errors per second"

      - alert: HighMemoryUsage
        expr: nodejs_memory_usage_bytes{type="heapUsed"} / nodejs_memory_usage_bytes{type="heapTotal"} > 0.8
        for: 2m
        labels:
          severity: warning
        annotations:
          summary: "High memory usage"
          description: "Memory usage is {{ $value }}%"

      - alert: DatabaseConnectionHigh
        expr: mysql_global_status_threads_connected > 80
        for: 1m
        labels:
          severity: warning
        annotations:
          summary: "High database connections"
          description: "Database connections: {{ $value }}"
```

### **2. ë¡œê·¸ ìˆ˜ì§‘ ì‹œìŠ¤í…œ**

#### **Filebeat ì„¤ì •**
```yaml
# filebeat.yml
filebeat.inputs:
  - type: log
    enabled: true
    paths:
      - /var/log/community-platform/*.log
    fields:
      service: community-platform
      environment: production
    multiline.pattern: '^\d{4}-\d{2}-\d{2}'
    multiline.negate: true
    multiline.match: after

  - type: log
    enabled: true
    paths:
      - /var/log/nginx/*.log
    fields:
      service: nginx
      environment: production

output.elasticsearch:
  hosts: ["localhost:9200"]
  index: "community-platform-%{+yyyy.MM.dd}"

processors:
  - add_host_metadata:
      when.not.contains.tags: forwarded
```

#### **Logstash ì„¤ì •**
```ruby
# logstash.conf
input {
  beats {
    port => 5044
  }
}

filter {
  if [service] == "community-platform" {
    grok {
      match => { "message" => "%{TIMESTAMP_ISO8601:timestamp} %{LOGLEVEL:level} %{DATA:logger} - %{GREEDYDATA:message}" }
    }
    
    date {
      match => [ "timestamp", "ISO8601" ]
    }
    
    if [level] == "ERROR" {
      mutate {
        add_tag => [ "error" ]
      }
    }
  }
}

output {
  elasticsearch {
    hosts => ["localhost:9200"]
    index => "community-platform-%{+YYYY.MM.dd}"
  }
}
```

### **3. ëŒ€ì‹œë³´ë“œ êµ¬ì„±**

#### **ì‹œìŠ¤í…œ ëŒ€ì‹œë³´ë“œ**
```json
{
  "dashboard": {
    "title": "Community Platform - System Overview",
    "panels": [
      {
        "title": "System Metrics",
        "type": "graph",
        "targets": [
          {
            "expr": "rate(node_cpu_seconds_total[5m])",
            "legendFormat": "CPU Usage"
          },
          {
            "expr": "node_memory_MemAvailable_bytes / node_memory_MemTotal_bytes",
            "legendFormat": "Memory Usage"
          }
        ]
      },
      {
        "title": "Application Metrics",
        "type": "graph",
        "targets": [
          {
            "expr": "rate(http_requests_total[5m])",
            "legendFormat": "Request Rate"
          },
          {
            "expr": "histogram_quantile(0.95, rate(http_request_duration_seconds_bucket[5m]))",
            "legendFormat": "95th Percentile"
          }
        ]
      }
    ]
  }
}
```

#### **ë¹„ì¦ˆë‹ˆìŠ¤ ëŒ€ì‹œë³´ë“œ**
```json
{
  "dashboard": {
    "title": "Community Platform - Business Metrics",
    "panels": [
      {
        "title": "User Activity",
        "type": "graph",
        "targets": [
          {
            "expr": "rate(user_activity_total[5m])",
            "legendFormat": "Active Users"
          }
        ]
      },
      {
        "title": "Content Metrics",
        "type": "graph",
        "targets": [
          {
            "expr": "rate(posts_created_total[5m])",
            "legendFormat": "Posts Created"
          },
          {
            "expr": "rate(comments_created_total[5m])",
            "legendFormat": "Comments Created"
          }
        ]
      }
    ]
  }
}
```

---

## ğŸš¨ **ì•Œë¦¼ ì‹œìŠ¤í…œ**

### **1. ì•Œë¦¼ ì±„ë„ ì„¤ì •**

#### **ì´ë©”ì¼ ì•Œë¦¼**
```yaml
# alertmanager.yml
global:
  smtp_smarthost: 'smtp.gmail.com:587'
  smtp_from: 'alerts@community-platform.com'
  smtp_auth_username: 'alerts@community-platform.com'
  smtp_auth_password: 'password'

route:
  group_by: ['alertname']
  group_wait: 10s
  group_interval: 10s
  repeat_interval: 1h
  receiver: 'web.hook'

receivers:
  - name: 'web.hook'
    email_configs:
      - to: 'admin@community-platform.com'
        subject: 'Community Platform Alert: {{ .GroupLabels.alertname }}'
        body: |
          {{ range .Alerts }}
          Alert: {{ .Annotations.summary }}
          Description: {{ .Annotations.description }}
          {{ end }}
```

#### **Slack ì•Œë¦¼**
```yaml
receivers:
  - name: 'slack'
    slack_configs:
      - api_url: 'https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK'
        channel: '#alerts'
        title: 'Community Platform Alert'
        text: |
          {{ range .Alerts }}
          *Alert:* {{ .Annotations.summary }}
          *Description:* {{ .Annotations.description }}
          {{ end }}
```

### **2. ì•Œë¦¼ ê·œì¹™**

#### **Critical ì•Œë¦¼**
- **ì‹œìŠ¤í…œ ë‹¤ìš´**: ì„œë²„ ì‘ë‹µ ì—†ìŒ
- **ë°ì´í„°ë² ì´ìŠ¤ ì˜¤ë¥˜**: DB ì—°ê²° ì‹¤íŒ¨
- **ë©”ëª¨ë¦¬ ë¶€ì¡±**: ë©”ëª¨ë¦¬ ì‚¬ìš©ë¥  95% ì´ìƒ
- **ë””ìŠ¤í¬ í’€**: ë””ìŠ¤í¬ ì‚¬ìš©ë¥  90% ì´ìƒ

#### **Warning ì•Œë¦¼**
- **ë†’ì€ CPU ì‚¬ìš©ë¥ **: CPU ì‚¬ìš©ë¥  80% ì´ìƒ
- **ë†’ì€ ë©”ëª¨ë¦¬ ì‚¬ìš©ë¥ **: ë©”ëª¨ë¦¬ ì‚¬ìš©ë¥  80% ì´ìƒ
- **ë†’ì€ ì—ëŸ¬ìœ¨**: HTTP ì—ëŸ¬ìœ¨ 5% ì´ìƒ
- **ëŠë¦° ì‘ë‹µ ì‹œê°„**: í‰ê·  ì‘ë‹µ ì‹œê°„ 1ì´ˆ ì´ìƒ

---

## ğŸ“Š **ë¡œê·¸ ë¶„ì„**

### **1. ë¡œê·¸ êµ¬ì¡°í™”**

#### **ì• í”Œë¦¬ì¼€ì´ì…˜ ë¡œê·¸**
```javascript
// êµ¬ì¡°í™”ëœ ë¡œê·¸ ì˜ˆì‹œ
const logEntry = {
  timestamp: new Date().toISOString(),
  level: 'INFO',
  service: 'community-platform',
  component: 'user-service',
  userId: 'user123',
  action: 'login',
  duration: 150,
  status: 'success',
  ip: '192.168.1.100',
  userAgent: 'Mozilla/5.0...',
  metadata: {
    sessionId: 'sess_abc123',
    requestId: 'req_xyz789'
  }
};
```

#### **ì—ëŸ¬ ë¡œê·¸**
```javascript
const errorLog = {
  timestamp: new Date().toISOString(),
  level: 'ERROR',
  service: 'community-platform',
  component: 'database',
  error: {
    name: 'DatabaseConnectionError',
    message: 'Connection to database failed',
    stack: 'Error: Connection to database failed\n    at...',
    code: 'DB_CONNECTION_FAILED'
  },
  context: {
    query: 'SELECT * FROM users WHERE id = ?',
    parameters: ['user123'],
    duration: 5000
  }
};
```

### **2. ë¡œê·¸ ê²€ìƒ‰ ì¿¼ë¦¬**

#### **Elasticsearch ì¿¼ë¦¬**
```json
{
  "query": {
    "bool": {
      "must": [
        {
          "range": {
            "timestamp": {
              "gte": "now-1h"
            }
          }
        },
        {
          "term": {
            "level": "ERROR"
          }
        }
      ]
    }
  },
  "sort": [
    {
      "timestamp": {
        "order": "desc"
      }
    }
  ]
}
```

---

## ğŸ“± **ëª¨ë°”ì¼ ëª¨ë‹ˆí„°ë§**

### **1. ëª¨ë°”ì¼ ëŒ€ì‹œë³´ë“œ**
- **ì‹¤ì‹œê°„ ë©”íŠ¸ë¦­**: í•µì‹¬ ì§€í‘œ ì‹¤ì‹œê°„ í‘œì‹œ
- **ì•Œë¦¼ ê´€ë¦¬**: ì•Œë¦¼ í™•ì¸ ë° ì²˜ë¦¬
- **ì›ê²© ì œì–´**: ì‹œìŠ¤í…œ ìƒíƒœ í™•ì¸ ë° ì œì–´

### **2. í‘¸ì‹œ ì•Œë¦¼**
- **Critical ì•Œë¦¼**: ì¦‰ì‹œ í‘¸ì‹œ ì•Œë¦¼
- **Warning ì•Œë¦¼**: ë°°ì¹˜ í‘¸ì‹œ ì•Œë¦¼
- **ì •ë³´ ì•Œë¦¼**: ì •ê¸° ìƒíƒœ ë¦¬í¬íŠ¸

---

## ğŸ¯ **ì„±ê³µ ì§€í‘œ**

### **1. ëª¨ë‹ˆí„°ë§ ì»¤ë²„ë¦¬ì§€**
- **ë©”íŠ¸ë¦­ ìˆ˜ì§‘ë¥ **: 99% ì´ìƒ
- **ë¡œê·¸ ìˆ˜ì§‘ë¥ **: 99% ì´ìƒ
- **ì•Œë¦¼ ì „ë‹¬ë¥ **: 95% ì´ìƒ

### **2. ì‘ë‹µ ì‹œê°„**
- **ë©”íŠ¸ë¦­ ìˆ˜ì§‘ ì§€ì—°**: 5ì´ˆ ì´í•˜
- **ì•Œë¦¼ ì „ë‹¬ ì‹œê°„**: 30ì´ˆ ì´í•˜
- **ëŒ€ì‹œë³´ë“œ ë¡œë”©**: 3ì´ˆ ì´í•˜

### **3. ê°€ìš©ì„±**
- **ëª¨ë‹ˆí„°ë§ ì‹œìŠ¤í…œ ê°€ìš©ì„±**: 99.9% ì´ìƒ
- **ë°ì´í„° ë³´ì¡´ ê¸°ê°„**: 90ì¼ ì´ìƒ
- **ë°±ì—… ë³µêµ¬ ì‹œê°„**: 1ì‹œê°„ ì´í•˜

---

## ğŸš€ **êµ¬í˜„ ë¡œë“œë§µ**

### **Week 1: ê¸°ë³¸ ëª¨ë‹ˆí„°ë§**
- [ ] Prometheus ì„¤ì • ë° ë©”íŠ¸ë¦­ ìˆ˜ì§‘
- [ ] ê¸°ë³¸ ëŒ€ì‹œë³´ë“œ êµ¬ì„±
- [ ] ì´ë©”ì¼ ì•Œë¦¼ ì„¤ì •

### **Week 2: ë¡œê·¸ ë¶„ì„**
- [ ] ELK Stack êµ¬ì¶•
- [ ] ë¡œê·¸ ìˆ˜ì§‘ ë° ë¶„ì„
- [ ] ë¡œê·¸ ëŒ€ì‹œë³´ë“œ êµ¬ì„±

### **Week 3: ê³ ê¸‰ ì•Œë¦¼**
- [ ] ë‹¤ì¤‘ ì±„ë„ ì•Œë¦¼ ì„¤ì •
- [ ] ì•Œë¦¼ ê·œì¹™ ìµœì í™”
- [ ] ì•Œë¦¼ ê·¸ë£¹í•‘ ì„¤ì •

### **Week 4: ëª¨ë°”ì¼ ë° ìµœì í™”**
- [ ] ëª¨ë°”ì¼ ëŒ€ì‹œë³´ë“œ ê°œë°œ
- [ ] ì„±ëŠ¥ ìµœì í™”
- [ ] ë¬¸ì„œí™” ë° êµìœ¡

---

*Community Platform 2.0 - ëª¨ë‹ˆí„°ë§ ì‹œìŠ¤í…œ êµ¬ì¶• ê³„íš*

**ğŸ“Š ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§ìœ¼ë¡œ ì•ˆì •ì ì¸ ì„œë¹„ìŠ¤ë¥¼ ì œê³µí•˜ê² ìŠµë‹ˆë‹¤!**
