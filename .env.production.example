# ğŸ” í”„ë¡œë•ì…˜ í™˜ê²½ ë³€ìˆ˜ í…œí”Œë¦¿
# 
# ì´ íŒŒì¼ì„ ë³µì‚¬í•˜ì—¬ .env.production íŒŒì¼ì„ ìƒì„±í•˜ì„¸ìš”
# cp .env.example .env.production
# 
# âš ï¸ ê²½ê³ : ì‹¤ì œ ê°’ìœ¼ë¡œ êµì²´í•˜ê³  Gitì— ì»¤ë°‹í•˜ì§€ ë§ˆì„¸ìš”!

# ========================================
# ì„œë²„ ì„¤ì •
# ========================================
NODE_ENV=production
PORT=5000
FRONTEND_URL=https://yourdomain.com

# ========================================
# JWT ì¸ì¦ (í•„ìˆ˜)
# ========================================
# âš ï¸ ì¤‘ìš”: ì•„ë˜ ìŠ¤í¬ë¦½íŠ¸ë¡œ ê°•ë ¥í•œ Secret ìƒì„±
# node server-backend/scripts/generate-jwt-secret.js

# Access Token Secret (64 bytes base64 ê¶Œì¥)
JWT_ACCESS_SECRET=your_64_byte_base64_encoded_secret_here_replace_this

# Refresh Token Secret (64 bytes base64 ê¶Œì¥)
JWT_REFRESH_SECRET=your_64_byte_base64_encoded_secret_here_replace_this

# í† í° ë§Œë£Œ ì‹œê°„
JWT_ACCESS_EXPIRES_IN=15m
JWT_REFRESH_EXPIRES_IN=14d

# JWT Issuer
JWT_ISSUER=community-platform-production

# ========================================
# ë°ì´í„°ë² ì´ìŠ¤ (MySQL)
# ========================================
DB_HOST=your_db_host_here
DB_PORT=3306
DB_USER=community_production_user
DB_PASSWORD=your_very_strong_db_password_here
DB_NAME=community_production_db

# ì—°ê²° í’€ ì„¤ì •
DB_CONNECTION_LIMIT=10
DB_QUEUE_LIMIT=0

# ========================================
# Redis (í† í° ë¸”ë™ë¦¬ìŠ¤íŠ¸ & ì„¸ì…˜)
# ========================================
REDIS_HOST=your_redis_host_here
REDIS_PORT=6379
REDIS_PASSWORD=your_redis_password_here
REDIS_DB=0

# Redis TLS ì„¤ì • (í”„ë¡œë•ì…˜ ê¶Œì¥)
REDIS_TLS=true

# ========================================
# CORS ì„¤ì •
# ========================================
CORS_ORIGIN=https://yourdomain.com
CORS_CREDENTIALS=true

# ========================================
# ì„¸ì…˜ ì„¤ì •
# ========================================
SESSION_SECRET=your_session_secret_64_bytes_base64_here
SESSION_NAME=community_session
SESSION_COOKIE_SECURE=true
SESSION_COOKIE_HTTP_ONLY=true
SESSION_COOKIE_SAME_SITE=strict
SESSION_COOKIE_MAX_AGE=86400000

# ========================================
# Rate Limiting
# ========================================
# ë¡œê·¸ì¸ Rate Limit (15ë¶„ì— 5íšŒ)
LOGIN_RATE_LIMIT_WINDOW_MS=900000
LOGIN_RATE_LIMIT_MAX=5

# ì¼ë°˜ API Rate Limit (15ë¶„ì— 100íšŒ)
API_RATE_LIMIT_WINDOW_MS=900000
API_RATE_LIMIT_MAX=100

# ========================================
# ë³´ì•ˆ í—¤ë” (Helmet.js)
# ========================================
HSTS_MAX_AGE=31536000
CSP_DEFAULT_SRC='self'
CSP_SCRIPT_SRC='self' 'unsafe-inline'
CSP_STYLE_SRC='self' 'unsafe-inline'

# ========================================
# ë¡œê¹…
# ========================================
LOG_LEVEL=info
LOG_FILE_PATH=/var/log/community/app.log
LOG_ERROR_FILE_PATH=/var/log/community/error.log

# ========================================
# íŒŒì¼ ì—…ë¡œë“œ
# ========================================
UPLOAD_MAX_FILE_SIZE=10485760
UPLOAD_ALLOWED_TYPES=image/jpeg,image/png,image/gif,image/webp

# ========================================
# ì´ë©”ì¼ (ì„ íƒ)
# ========================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your_email@gmail.com
SMTP_PASSWORD=your_app_password_here
EMAIL_FROM=noreply@yourdomain.com

# ========================================
# ëª¨ë‹ˆí„°ë§ (ì„ íƒ)
# ========================================
# Sentry DSN
SENTRY_DSN=https://your_sentry_dsn_here

# New Relic License Key
NEW_RELIC_LICENSE_KEY=your_new_relic_key_here
NEW_RELIC_APP_NAME=Community Platform Production

# ========================================
# ë°±ì—… ì„¤ì •
# ========================================
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=your_backup_bucket_name

# ========================================
# SSL/TLS ì¸ì¦ì„œ
# ========================================
SSL_CERT_PATH=/etc/letsencrypt/live/yourdomain.com/fullchain.pem
SSL_KEY_PATH=/etc/letsencrypt/live/yourdomain.com/privkey.pem

# ========================================
# í”„ë¡œë•ì…˜ ìµœì í™”
# ========================================
# Node.js ë©”ëª¨ë¦¬ ì œí•œ (MB)
NODE_OPTIONS=--max-old-space-size=2048

# í´ëŸ¬ìŠ¤í„° ëª¨ë“œ ì›Œì»¤ ìˆ˜ (CPU ì½”ì–´ ìˆ˜ì— ë§ì¶¤)
CLUSTER_WORKERS=4

# ========================================
# ê²€ì¦ ì²´í¬ë¦¬ìŠ¤íŠ¸
# ========================================
# âœ… JWT_ACCESS_SECRET: 64 bytes base64 (ìµœì†Œ 32ì)
# âœ… JWT_REFRESH_SECRET: 64 bytes base64 (ìµœì†Œ 32ì)
# âœ… DB_PASSWORD: ê°•ë ¥í•œ ë¹„ë°€ë²ˆí˜¸ (ìµœì†Œ 16ì, íŠ¹ìˆ˜ë¬¸ì í¬í•¨)
# âœ… REDIS_PASSWORD: ê°•ë ¥í•œ ë¹„ë°€ë²ˆí˜¸
# âœ… SESSION_SECRET: 64 bytes base64
# âœ… CORS_ORIGIN: ì‹¤ì œ í”„ë¡ íŠ¸ì—”ë“œ ë„ë©”ì¸
# âœ… SSL ì¸ì¦ì„œ ê²½ë¡œ í™•ì¸
# âœ… ëª¨ë“  *_SECRET ë³€ìˆ˜ ê²€ì¦
