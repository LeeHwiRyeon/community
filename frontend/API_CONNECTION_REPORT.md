# API ì—°ê²° ì™„ë£Œ ë³´ê³ ì„œ

## ðŸ”— ë°±ì—”ë“œ API ì—°ê²°

### API ê¸°ë³¸ ì •ë³´
- **Base URL**: `http://61.75.5.93:50000/api`
- **ìƒˆë¡œìš´ ì—”ë“œí¬ì¸íŠ¸ë“¤**:
  - `GET /api/home` - í™ˆíŽ˜ì´ì§€ í†µí•© ë°ì´í„°
  - `GET /api/trending` - íŠ¸ë Œë”© ì•„ì´í…œ (ê¸°ê°„ë³„, ê°œìˆ˜ë³„)
  - `GET /api/boards` - ê²Œì‹œíŒ ëª©ë¡
  - `GET /api/boards/:id/posts` - ê²Œì‹œíŒë³„ ê¸€ ëª©ë¡
  - `GET /api/posts/:pid` - ê¸€ ìƒì„¸ ì •ë³´
  - `POST /api/posts/:pid/view` - ì¡°íšŒìˆ˜ ì¦ê°€
  - `GET /api/events` - ìŠ¤íŠ¸ë¦¬ë° ì´ë²¤íŠ¸
  - `GET /api/mock/*` - ê°œë°œìš© ëª© ë°ì´í„° ê´€ë¦¬

## ðŸŽ¯ í”„ë¡ íŠ¸ì—”ë“œ êµ¬ì¡° ê°œì„ 

### 1. API ì„œë¹„ìŠ¤ ë ˆì´ì–´ êµ¬ì¶•
- **`src/services/api.ts`**: API í†µì‹  ë° ë°ì´í„° ë§¤í•‘
- **`src/hooks/useApiData.ts`**: React hooksë¡œ API ë°ì´í„° ê´€ë¦¬

### 2. ë°ì´í„° ë³€í™˜ (Backend â†” Frontend)
```typescript
// Backend Response â†’ Frontend Types
mapApiPostToArticle()      // ApiPost â†’ Article
mapApiPostToBoardPost()    // ApiPost â†’ BoardPost  
mapApiBoardToBoard()       // ApiBoard â†’ Board
mapApiTrendingToTrendingItem() // ApiTrendingItem â†’ TrendingItem
mapApiEventToBoardPost()   // ApiEvent â†’ BoardPost (ìŠ¤íŠ¸ë¦¬ë°)
```

### 3. í•µì‹¬ hooks êµ¬í˜„
- `useHomeData()` - í™ˆíŽ˜ì´ì§€ ì „ì²´ ë°ì´í„°
- `useBoardsData()` - ê²Œì‹œíŒ ëª©ë¡ + ê²Œì‹œê¸€
- `useTrendingData()` - íŠ¸ë Œë”© ì•„ì´í…œ
- `useBoardData()` - íŠ¹ì • ê²Œì‹œíŒ ë°ì´í„°
- `usePostDetail()` - ê¸€ ìƒì„¸ ì •ë³´
- `useMockData()` - ê°œë°œìš© ëª© ë°ì´í„° ê´€ë¦¬

## ðŸ”§ ê°œë°œ ë„êµ¬ ì¶”ê°€

### API Debug Panel (`src/components/ApiDebugPanel.tsx`)
- ì‹¤ì‹œê°„ ëª© ë°ì´í„° ìƒíƒœ í™•ì¸
- ëª© ë°ì´í„° ìƒì„±/ì´ˆê¸°í™”
- API ì—”ë“œí¬ì¸íŠ¸ í˜„í™©

### API Connection Test (`src/components/ApiConnectionTest.tsx`)
- ëª¨ë“  API ì—”ë“œí¬ì¸íŠ¸ ì—°ê²° í…ŒìŠ¤íŠ¸
- ì‘ë‹µ ì‹œê°„ ë° ë°ì´í„° ë¯¸ë¦¬ë³´ê¸°
- ì—ëŸ¬ ì§„ë‹¨

## ðŸ“± UI ì»´í¬ë„ŒíŠ¸ ì—…ë°ì´íŠ¸

### MainPage ì™„ì „ ìž¬ìž‘ì„±
- ìƒˆë¡œìš´ API hooks ì‚¬ìš©
- ì—ëŸ¬ ì²˜ë¦¬ ë° ë¡œë”© ìƒíƒœ
- ì‹¤ì‹œê°„ API ì—°ê²° ìƒíƒœ í‘œì‹œ

### ê¸°ì¡´ ì»´í¬ë„ŒíŠ¸ í˜¸í™˜ì„± ìœ ì§€
- `CommunityBoard` - ë‚ ì§œ í¬ë§·íŒ… ê°œì„ 
- `TrendingSidebar` - ê¸°ì¡´ êµ¬ì¡° ìœ ì§€
- `ContactModal` - ê¸°ì¡´ ì´ë©”ì¼ ì—°ë™ ìœ ì§€

## ðŸŽ¨ ë””ìžì¸ ì‹œìŠ¤í…œ ìœ ì§€

### ì‹ ë¬¸ ìŠ¤íƒ€ì¼ í…Œë§ˆ
- ë”°ëœ»í•œ í¬ë¦¼/ë² ì´ì§€ ìƒ‰ìƒ íŒ”ë ˆíŠ¸
- Apple ìŠ¤íƒ€ì¼ ì¹´ë“œ ë””ìžì¸
- ì‹ ë¬¸ íƒ€ì´í¬ê·¸ëž˜í”¼ ê³„ì¸µêµ¬ì¡°

### ì• ë‹ˆë©”ì´ì…˜ ë° ìƒí˜¸ìž‘ìš©
- ë¶€ë“œëŸ¬ìš´ hover íš¨ê³¼
- ì• í”Œ ìŠ¤íƒ€ì¼ ê·¸ë¼ë°ì´ì…˜
- ì‹ ë¬¸ì§€ ì§ˆê° íš¨ê³¼

## ðŸš€ ë°ì´í„° í”Œë¡œìš°

### 1. í™ˆíŽ˜ì´ì§€ ë¡œë”©
```
useHomeData() â†’ GET /api/home â†’ {
  announcements: Article[]
  events: ApiEvent[] (ìŠ¤íŠ¸ë¦¬ë° ë°ì´í„°)
  latest: Article[]  
  trending: TrendingItem[]
  boards: Board[]
}
```

### 2. ê²Œì‹œíŒ ë°ì´í„° ë¡œë”©
```
useBoardsData() â†’ GET /api/boards â†’ ApiBoard[]
                â†’ GET /api/boards/:id/posts â†’ ApiPost[]
                â†’ Board[] (with posts)
```

### 3. íŠ¸ë Œë”© ë°ì´í„°
```
useTrendingData() â†’ GET /api/trending?period=7d&limit=10
                  â†’ TrendingItem[] (rank, isRising í¬í•¨)
```

## ðŸ“Š ë°ì´í„° ë§¤í•‘ ê·œì¹™

### Backend â†’ Frontend í•„ë“œ ë§¤í•‘
- `created_at` â†’ `timestamp`
- `thumb` â†’ `image`
- `title` â†’ `title` (ë™ì¼)
- `views` â†’ `views` (ë™ì¼)
- `comments` â†’ `0` (ë°±ì—”ë“œ ë¯¸êµ¬í˜„)
- `isHot` â†’ `views >= 1000` (í”„ë¡ íŠ¸ ê³„ì‚°)
- `isNew` â†’ `created_at < 24h` (í”„ë¡ íŠ¸ ê³„ì‚°)

### ìŠ¤íŠ¸ë¦¬ë° ë°ì´í„° íŠ¹ë³„ ì²˜ë¦¬
- `events.meta_json` â†’ `{streamUrl, isLive, viewers}`
- ìŠ¤íŠ¸ë¦¬ë° ì´ë²¤íŠ¸ëŠ” BoardPost í˜•íƒœë¡œ ë³€í™˜

## ðŸ” í…ŒìŠ¤íŠ¸ ë° ê²€ì¦

### API ì—°ê²° í…ŒìŠ¤íŠ¸ ë°©ë²•
1. ê°œë°œìž ë„êµ¬: ìš°í•˜ë‹¨ "API Debug" ë²„íŠ¼
2. "Test API Connection" í´ë¦­
3. ëª¨ë“  ì—”ë“œí¬ì¸íŠ¸ ì‘ë‹µ ì‹œê°„/ìƒíƒœ í™•ì¸

### ëª© ë°ì´í„° ê´€ë¦¬
```typescript
// ëª© ë°ì´í„° ìƒì„±
POST /api/mock/generate { count: 50 }

// ëª© ë°ì´í„° ì´ˆê¸°í™”  
POST /api/mock/reset

// í˜„ìž¬ ìƒíƒœ í™•ì¸
GET /api/mock/status
```

## âœ… ì™„ë£Œëœ ì£¼ìš” ê¸°ëŠ¥

### âœ… API í†µí•©
- [x] ë°±ì—”ë“œ API ì„œë²„ ì—°ê²° (61.75.5.93:50000)
- [x] ëª¨ë“  ì—”ë“œí¬ì¸íŠ¸ ë°ì´í„° ë§¤í•‘
- [x] ì—ëŸ¬ ì²˜ë¦¬ ë° í´ë°± ì‹œìŠ¤í…œ
- [x] ì‹¤ì‹œê°„ ì—°ê²° ìƒíƒœ í‘œì‹œ

### âœ… ë°ì´í„° ê´€ë¦¬
- [x] React hooks ê¸°ë°˜ ìƒíƒœ ê´€ë¦¬
- [x] ìžë™ ë¡œë”©/ì—ëŸ¬ ìƒíƒœ ì²˜ë¦¬
- [x] ë°ì´í„° ë³€í™˜ ë ˆì´ì–´
- [x] ìºì‹± ë° ìµœì í™”

### âœ… UI/UX
- [x] ì‹ ë¬¸ ìŠ¤íƒ€ì¼ ë””ìžì¸ ì‹œìŠ¤í…œ ìœ ì§€
- [x] Apple ìŠ¤íƒ€ì¼ ì¸í„°ëž™ì…˜
- [x] ë”°ëœ»í•œ ìƒ‰ìƒ íŒ”ë ˆíŠ¸
- [x] ë°˜ì‘í˜• ë ˆì´ì•„ì›ƒ

### âœ… ê°œë°œ ë„êµ¬
- [x] API ì—°ê²° í…ŒìŠ¤íŠ¸ ë„êµ¬
- [x] ëª© ë°ì´í„° ê´€ë¦¬ íŒ¨ë„
- [x] ì‹¤ì‹œê°„ ìƒíƒœ ëª¨ë‹ˆí„°ë§
- [x] ê°œë°œ/í”„ë¡œë•ì…˜ í™˜ê²½ ë¶„ë¦¬

## ðŸŽ¯ ë‹¤ìŒ ë‹¨ê³„ ì œì•ˆ

### 1. ê¸°ëŠ¥ í™•ìž¥
- ì‚¬ìš©ìž ì¸ì¦/ë¡œê·¸ì¸ ì‹œìŠ¤í…œ
- ëŒ“ê¸€ ì‹œìŠ¤í…œ êµ¬í˜„ (ë°±ì—”ë“œ ì§€ì› í•„ìš”)
- ì‹¤ì‹œê°„ ì•Œë¦¼ ì‹œìŠ¤í…œ
- ê²Œì‹œê¸€ ìž‘ì„±/ìˆ˜ì •/ì‚­ì œ

### 2. ì„±ëŠ¥ ìµœì í™”
- React Query ë„ìž…ìœ¼ë¡œ ìºì‹± ê°œì„ 
- ì´ë¯¸ì§€ lazy loading
- ë¬´í•œ ìŠ¤í¬ë¡¤ íŽ˜ì´ì§€ë„¤ì´ì…˜
- ê²€ìƒ‰ ê¸°ëŠ¥ ê°œì„ 

### 3. ëª¨ë‹ˆí„°ë§
- API ì‘ë‹µ ì‹œê°„ ëª¨ë‹ˆí„°ë§
- ì—ëŸ¬ ë¡œê¹… ì‹œìŠ¤í…œ
- ì‚¬ìš©ìž í–‰ë™ ë¶„ì„
- ì„±ëŠ¥ ë©”íŠ¸ë¦­ ìˆ˜ì§‘

---

## ðŸ”— Quick Start

### API ì—°ê²° í™•ì¸
1. ì• í”Œë¦¬ì¼€ì´ì…˜ ì‹¤í–‰
2. ìš°í•˜ë‹¨ "API Debug" ë²„íŠ¼ í´ë¦­
3. "Test API Connection" ì‹¤í–‰
4. ëª¨ë“  ì—”ë“œí¬ì¸íŠ¸ê°€ ì„±ê³µ ìƒíƒœì¸ì§€ í™•ì¸

### ëª© ë°ì´í„° ìƒì„± (ê°œë°œìš©)
1. API Debug Panelì—ì„œ "Generate Mock Data"
2. ì›í•˜ëŠ” ê°œìˆ˜ ìž…ë ¥ (ê¸°ë³¸ 50ê°œ)
3. "Generate" í´ë¦­
4. í™ˆíŽ˜ì´ì§€ì—ì„œ ë°ì´í„° í™•ì¸

ëª¨ë“  API ì—°ê²°ì´ ì™„ë£Œë˜ì–´ ì‹¤ì œ ë°±ì—”ë“œ ë°ì´í„°ì™€ ì—°ë™ë©ë‹ˆë‹¤! ðŸŽ‰