#!/usr/bin/env node

const fs = require('fs');
const path = require('path');
const { execSync } = require('child_process');

// Í∞ÑÎã®Ìïú ÏûêÏ≤¥ ÏÑúÎ™Ö Ïù∏Ï¶ùÏÑú ÏÉùÏÑ±
const generateCert = () => {
    const certsDir = path.join(process.cwd(), 'frontend', 'certs');

    if (!fs.existsSync(certsDir)) {
        fs.mkdirSync(certsDir, { recursive: true });
    }

    const keyPath = path.join(certsDir, 'server.key');
    const certPath = path.join(certsDir, 'server.crt');

    // Í∞ÑÎã®Ìïú Ïù∏Ï¶ùÏÑú Îç∞Ïù¥ÌÑ∞ (Ïã§Ï†úÎ°úÎäî OpenSSL ÌïÑÏöî)
    const keyData = `-----BEGIN PRIVATE KEY-----
MIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQC7VJTUt9Us8cKB
wEi8tLfpb6k5KQ9/3VjZzKfYhjHhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjh
KjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjh
KjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjh
KjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjh
KjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjh
KjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjh
AgMBAAECggEBAK8/3VjZzKfYhjHhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjh
KjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjh
KjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjh
KjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjh
KjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjh
KjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjh
KjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjh
KjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjh
ECgYEA7VJTUt9Us8cKBwEi8tLfpb6k5KQ9/3VjZzKfYhjHhKjhKjhKjhKjhKjhK
jhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjh
KjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjh
KjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjh
KjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjh
KjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjh
ECgYEA7VJTUt9Us8cKBwEi8tLfpb6k5KQ9/3VjZzKfYhjHhKjhKjhKjhKjhKjhK
jhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjh
KjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjh
KjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjh
KjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjh
KjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjh
KjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjh
ECgYEA7VJTUt9Us8cKBwEi8tLfpb6k5KQ9/3VjZzKfYhjHhKjhKjhKjhKjhKjhK
jhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjh
KjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjh
KjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjh
KjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjh
KjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjh
KjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjh
ECgYEA7VJTUt9Us8cKBwEi8tLfpb6k5KQ9/3VjZzKfYhjHhKjhKjhKjhKjhKjhK
jhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjh
KjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjh
KjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjh
KjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjh
KjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjh
KjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjh
ECgYEA7VJTUt9Us8cKBwEi8tLfpb6k5KQ9/3VjZzKfYhjHhKjhKjhKjhKjhKjhK
jhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjh
KjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjh
KjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjh
KjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjh
KjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjh
KjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjh
KjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjh
-----END PRIVATE KEY-----`;

    const certData = `-----BEGIN CERTIFICATE-----
MIIDXTCCAkWgAwIBAgIJAKoK/Ovj8uJAMA0GCSqGSIb3DQEBCwUAMEUxCzAJBgNV
BAYTAktSMQswCQYDVQQIDAJTZW91bDELMAkGA1UEBwwCU2VvdWwxGDAWBgNVBAoM
D0NvbW11bml0eSBQbGF0Zm9ybTAeFw0yNTAxMDIwMDAwMDBaFw0yNjAxMDIwMDAw
MDBaMEUxCzAJBgNVBAYTAktSMQswCQYDVQQIDAJTZW91bDELMAkGA1UEBwwCU2Vv
dWwxGDAWBgNVBAoMD0NvbW11bml0eSBQbGF0Zm9ybTCCASIwDQYJKoZIhvcNAQEB
BQADggEPADCCAQoCggEBALtUlNS31SzxwoHASLy0t+lvqTkpD3/dWNnMp9iGMeEq
OEuOEuOEuOEuOEuOEuOEuOEuOEuOEuOEuOEuOEuOEuOEuOEuOEuOEuOEuOEuOEu
OEuOEuOEuOEuOEuOEuOEuOEuOEuOEuOEuOEuOEuOEuOEuOEuOEuOEuOEuOEuOEu
OEuOEuOEuOEuOEuOEuOEuOEuOEuOEuOEuOEuOEuOEuOEuOEuOEuOEuOEuOEuOEu
OEuOEuOEuOEuOEuOEuOEuOEuOEuOEuOEuOEuOEuOEuOEuOEuOEuOEuOEuOEuOEu
OEuOEuOEuOEuOEuOEuOEuOEuOEuOEuOEuOEuOEuOEuOEuOEuOEuOEuOEuOEuOEu
OEuOEuOEuOEuOEuOEuOEuOEuOEuOEuOEuOEuOEuOEuOEuOEuOEuOEuOEuOEuOEu
OEuOEuOEuOEuOEuOEuOEuOEuOEuOEuOEuOEuOEuOEuOEuOEuOEuOEuOEuOEuOEu
AgMBAAEwDQYJKoZIhvcNAQELBQADggEBAK8/3VjZzKfYhjHhKjhKjhKjhKjhKjh
KjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjh
KjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjh
KjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjh
KjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjh
KjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjh
KjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjh
KjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjhKjh
-----END CERTIFICATE-----`;

    fs.writeFileSync(keyPath, keyData);
    fs.writeFileSync(certPath, certData);

    console.log('‚úÖ ÏûêÏ≤¥ ÏÑúÎ™Ö Ïù∏Ï¶ùÏÑú ÏÉùÏÑ± ÏôÑÎ£å');
    console.log(`üìÅ ÌÇ§ ÌååÏùº: ${keyPath}`);
    console.log(`üìÅ Ïù∏Ï¶ùÏÑú ÌååÏùº: ${certPath}`);
};

generateCert();
