<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UI/UX 모니터링 대시보드</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #f5f5f5;
            color: #333;
            line-height: 1.6;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            margin-bottom: 20px;
        }

        .header h1 {
            color: #2c3e50;
            margin-bottom: 10px;
        }

        .header p {
            color: #7f8c8d;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            text-align: center;
        }

        .stat-card h3 {
            color: #2c3e50;
            margin-bottom: 10px;
        }

        .stat-number {
            font-size: 2.5em;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .stat-number.excellent {
            color: #27ae60;
        }

        .stat-number.good {
            color: #f39c12;
        }

        .stat-number.poor {
            color: #e74c3c;
        }

        .stat-description {
            color: #7f8c8d;
            font-size: 0.9em;
        }

        .chart-container {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            margin-bottom: 20px;
        }

        .chart-container h3 {
            color: #2c3e50;
            margin-bottom: 20px;
        }

        .issues-container {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            margin-bottom: 20px;
        }

        .issues-container h3 {
            color: #2c3e50;
            margin-bottom: 20px;
        }

        .issue-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px;
            border: 1px solid #ecf0f1;
            border-radius: 6px;
            margin-bottom: 10px;
        }

        .issue-item.error {
            border-left: 4px solid #e74c3c;
            background: #fdf2f2;
        }

        .issue-item.warning {
            border-left: 4px solid #f39c12;
            background: #fef9e7;
        }

        .issue-item.info {
            border-left: 4px solid #3498db;
            background: #f0f8ff;
        }

        .issue-content {
            flex: 1;
        }

        .issue-title {
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 5px;
        }

        .issue-description {
            font-size: 0.9em;
            color: #7f8c8d;
            margin-bottom: 5px;
        }

        .issue-suggestion {
            font-size: 0.8em;
            color: #95a5a6;
        }

        .issue-badge {
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 0.8em;
            font-weight: 600;
            margin-left: 10px;
        }

        .issue-badge.error {
            background: #fadbd8;
            color: #e74c3c;
        }

        .issue-badge.warning {
            background: #fef9e7;
            color: #f39c12;
        }

        .issue-badge.info {
            background: #d5f4e6;
            color: #27ae60;
        }

        .controls {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }

        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .btn-primary {
            background: #3498db;
            color: white;
        }

        .btn-primary:hover {
            background: #2980b9;
        }

        .btn-success {
            background: #27ae60;
            color: white;
        }

        .btn-success:hover {
            background: #229954;
        }

        .btn-warning {
            background: #f39c12;
            color: white;
        }

        .btn-warning:hover {
            background: #e67e22;
        }

        .loading {
            text-align: center;
            padding: 40px;
            color: #7f8c8d;
        }

        .error {
            background: #e74c3c;
            color: white;
            padding: 15px;
            border-radius: 6px;
            margin-bottom: 20px;
        }

        .success {
            background: #27ae60;
            color: white;
            padding: 15px;
            border-radius: 6px;
            margin-bottom: 20px;
        }

        .recommendations {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .recommendations h3 {
            color: #2c3e50;
            margin-bottom: 15px;
        }

        .recommendation-item {
            padding: 10px;
            background: #f8f9fa;
            border-radius: 4px;
            margin-bottom: 10px;
            border-left: 3px solid #3498db;
        }

        .filter-tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }

        .filter-tab {
            padding: 8px 16px;
            border: 1px solid #ddd;
            border-radius: 4px;
            background: white;
            cursor: pointer;
            transition: all 0.2s;
        }

        .filter-tab.active {
            background: #3498db;
            color: white;
            border-color: #3498db;
        }

        .filter-tab:hover {
            background: #f8f9fa;
        }

        .filter-tab.active:hover {
            background: #2980b9;
        }

        @media (max-width: 768px) {
            .stats-grid {
                grid-template-columns: 1fr;
            }

            .controls {
                flex-direction: column;
            }

            .issue-item {
                flex-direction: column;
                align-items: flex-start;
            }

            .issue-badge {
                margin-left: 0;
                margin-top: 10px;
            }
        }
    </style>
</head>

<body>
    <div class="container">
        <div class="header">
            <h1>🎨 UI/UX 모니터링 대시보드</h1>
            <p>사용자 경험과 인터페이스 품질을 실시간으로 모니터링하고 개선사항을 제안합니다.</p>
        </div>

        <div class="controls">
            <button class="btn btn-primary" onclick="runValidation()">UI/UX 검증 실행</button>
            <button class="btn btn-success" onclick="exportReport()">리포트 내보내기</button>
            <button class="btn btn-warning" onclick="scheduleValidation()">자동 검증 설정</button>
        </div>

        <div id="message"></div>

        <div class="stats-grid">
            <div class="stat-card">
                <h3>UI/UX 점수</h3>
                <div id="uiuxScore" class="stat-number">-</div>
                <div class="stat-description">전체 UI/UX 품질 점수</div>
            </div>
            <div class="stat-card">
                <h3>오류</h3>
                <div id="errorCount" class="stat-number">-</div>
                <div class="stat-description">즉시 수정 필요한 오류</div>
            </div>
            <div class="stat-card">
                <h3>경고</h3>
                <div id="warningCount" class="stat-number">-</div>
                <div class="stat-description">개선 권장 사항</div>
            </div>
            <div class="stat-card">
                <h3>정보</h3>
                <div id="infoCount" class="stat-number">-</div>
                <div class="stat-description">참고사항</div>
            </div>
        </div>

        <div class="chart-container">
            <h3>카테고리별 이슈 분포</h3>
            <canvas id="categoryChart" width="400" height="200"></canvas>
        </div>

        <div class="chart-container">
            <h3>심각도별 이슈 분포</h3>
            <canvas id="severityChart" width="400" height="200"></canvas>
        </div>

        <div class="issues-container">
            <h3>발견된 이슈</h3>

            <div class="filter-tabs">
                <div class="filter-tab active" onclick="filterIssues('all')">전체</div>
                <div class="filter-tab" onclick="filterIssues('error')">오류</div>
                <div class="filter-tab" onclick="filterIssues('warning')">경고</div>
                <div class="filter-tab" onclick="filterIssues('info')">정보</div>
                <div class="filter-tab" onclick="filterIssues('accessibility')">접근성</div>
                <div class="filter-tab" onclick="filterIssues('usability')">사용성</div>
                <div class="filter-tab" onclick="filterIssues('performance')">성능</div>
                <div class="filter-tab" onclick="filterIssues('consistency')">일관성</div>
                <div class="filter-tab" onclick="filterIssues('responsive')">반응형</div>
            </div>

            <div id="issuesList">
                <div class="loading">UI/UX 검증을 실행하세요...</div>
            </div>
        </div>

        <div class="recommendations">
            <h3>개선 권장사항</h3>
            <div id="recommendationsList">
                <div class="loading">검증을 실행하면 권장사항이 표시됩니다.</div>
            </div>
        </div>
    </div>

    <script>
        let categoryChart = null;
        let severityChart = null;
        let currentFilter = 'all';
        let validationResults = null;

        // 페이지 로드 시 초기화
        document.addEventListener('DOMContentLoaded', function () {
            initializeCharts();
            runValidation();
        });

        // UI/UX 검증 실행
        function runValidation() {
            showMessage('UI/UX 검증을 실행하는 중...', 'info');

            // 시뮬레이션 데이터 (실제로는 UIUXValidator 사용)
            setTimeout(() => {
                validationResults = {
                    totalIssues: 15,
                    errors: 3,
                    warnings: 7,
                    info: 5,
                    score: 78,
                    issues: [
                        {
                            id: 'aria-label-1',
                            type: 'error',
                            category: 'accessibility',
                            severity: 'high',
                            element: 'button',
                            message: 'ARIA 라벨이 없는 버튼',
                            suggestion: 'aria-label 속성을 추가하세요',
                            selector: '.submit-btn'
                        },
                        {
                            id: 'contrast-1',
                            type: 'error',
                            category: 'accessibility',
                            severity: 'high',
                            element: 'p',
                            message: '색상 대비 부족 (3.2:1)',
                            suggestion: 'WCAG AA 기준(4.5:1)을 만족하도록 색상을 조정하세요',
                            selector: '.description'
                        },
                        {
                            id: 'button-size-1',
                            type: 'warning',
                            category: 'usability',
                            severity: 'medium',
                            element: 'button',
                            message: '터치하기 어려운 작은 버튼',
                            suggestion: '버튼 높이를 최소 44px 이상으로 설정하세요',
                            selector: '.close-btn'
                        },
                        {
                            id: 'form-label-1',
                            type: 'error',
                            category: 'usability',
                            severity: 'high',
                            element: 'input',
                            message: '라벨이 없는 필수 입력 필드',
                            suggestion: 'label 요소를 추가하거나 aria-label을 설정하세요',
                            selector: '#email'
                        },
                        {
                            id: 'image-lazy-1',
                            type: 'info',
                            category: 'performance',
                            severity: 'low',
                            element: 'img',
                            message: '지연 로딩이 적용되지 않은 이미지',
                            suggestion: 'loading="lazy" 속성을 추가하여 성능을 개선하세요',
                            selector: '.hero-image'
                        },
                        {
                            id: 'color-consistency-1',
                            type: 'warning',
                            category: 'consistency',
                            severity: 'low',
                            element: 'div',
                            message: '너무 많은 색상 사용',
                            suggestion: '디자인 시스템에 맞춰 색상을 통일하세요',
                            selector: '.header'
                        },
                        {
                            id: 'viewport-meta',
                            type: 'error',
                            category: 'responsive',
                            severity: 'high',
                            element: 'meta',
                            message: '뷰포트 메타 태그가 없습니다',
                            suggestion: '모바일 반응형을 위해 뷰포트 메타 태그를 추가하세요'
                        },
                        {
                            id: 'touch-target-1',
                            type: 'warning',
                            category: 'responsive',
                            severity: 'medium',
                            element: 'a',
                            message: '터치하기 어려운 작은 요소',
                            suggestion: '최소 44x44px 크기로 설정하세요',
                            selector: '.nav-link'
                        }
                    ],
                    recommendations: [
                        '접근성 개선이 필요합니다. ARIA 라벨과 키보드 네비게이션을 확인하세요.',
                        '사용성을 개선하세요. 버튼 크기와 폼 라벨을 확인하세요.',
                        '성능 최적화가 필요합니다. 이미지 최적화와 CSS 정리를 고려하세요.',
                        '디자인 일관성을 개선하세요. 색상, 폰트, 간격을 통일하세요.',
                        '반응형 디자인을 개선하세요. 모바일 터치 영역을 확인하세요.'
                    ]
                };

                updateDashboard(validationResults);
                showMessage('UI/UX 검증이 완료되었습니다.', 'success');
            }, 2000);
        }

        // 대시보드 업데이트
        function updateDashboard(results) {
            // 점수 업데이트
            const scoreElement = document.getElementById('uiuxScore');
            scoreElement.textContent = results.score;
            scoreElement.className = 'stat-number ' +
                (results.score >= 90 ? 'excellent' :
                    results.score >= 70 ? 'good' : 'poor');

            // 카운트 업데이트
            document.getElementById('errorCount').textContent = results.errors;
            document.getElementById('warningCount').textContent = results.warnings;
            document.getElementById('infoCount').textContent = results.info;

            // 이슈 목록 업데이트
            updateIssuesList(results.issues);

            // 권장사항 업데이트
            updateRecommendations(results.recommendations);

            // 차트 업데이트
            updateCharts(results);
        }

        // 이슈 목록 업데이트
        function updateIssuesList(issues) {
            const container = document.getElementById('issuesList');

            if (issues.length === 0) {
                container.innerHTML = '<div class="loading">발견된 이슈가 없습니다.</div>';
                return;
            }

            const filteredIssues = filterIssuesByType(issues, currentFilter);
            const html = filteredIssues.map(issue => `
                <div class="issue-item ${issue.type}">
                    <div class="issue-content">
                        <div class="issue-title">${issue.message}</div>
                        <div class="issue-description">${issue.element} - ${issue.selector || '전체'}</div>
                        <div class="issue-suggestion">${issue.suggestion}</div>
                    </div>
                    <div class="issue-badge ${issue.type}">${issue.type.toUpperCase()}</div>
                </div>
            `).join('');

            container.innerHTML = html;
        }

        // 권장사항 업데이트
        function updateRecommendations(recommendations) {
            const container = document.getElementById('recommendationsList');

            if (recommendations.length === 0) {
                container.innerHTML = '<div class="loading">권장사항이 없습니다.</div>';
                return;
            }

            const html = recommendations.map(rec => `
                <div class="recommendation-item">
                    ${rec}
                </div>
            `).join('');

            container.innerHTML = html;
        }

        // 이슈 필터링
        function filterIssues(type) {
            currentFilter = type;

            // 필터 탭 업데이트
            document.querySelectorAll('.filter-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            event.target.classList.add('active');

            // 이슈 목록 업데이트
            if (validationResults) {
                updateIssuesList(validationResults.issues);
            }
        }

        // 이슈 타입별 필터링
        function filterIssuesByType(issues, filter) {
            if (filter === 'all') return issues;
            return issues.filter(issue => issue.type === filter || issue.category === filter);
        }

        // 차트 초기화
        function initializeCharts() {
            // 카테고리별 차트
            const categoryCtx = document.getElementById('categoryChart').getContext('2d');
            categoryChart = new Chart(categoryCtx, {
                type: 'doughnut',
                data: {
                    labels: ['접근성', '사용성', '성능', '일관성', '반응형'],
                    datasets: [{
                        data: [0, 0, 0, 0, 0],
                        backgroundColor: ['#e74c3c', '#f39c12', '#3498db', '#9b59b6', '#2ecc71']
                    }]
                },
                options: {
                    responsive: true
                }
            });

            // 심각도별 차트
            const severityCtx = document.getElementById('severityChart').getContext('2d');
            severityChart = new Chart(severityCtx, {
                type: 'bar',
                data: {
                    labels: ['High', 'Medium', 'Low'],
                    datasets: [{
                        label: '이슈 수',
                        data: [0, 0, 0],
                        backgroundColor: ['#e74c3c', '#f39c12', '#27ae60']
                    }]
                },
                options: {
                    responsive: true,
                    scales: {
                        y: {
                            beginAtZero: true
                        }
                    }
                }
            });
        }

        // 차트 업데이트
        function updateCharts(results) {
            // 카테고리별 데이터
            const categoryData = {
                'accessibility': 0,
                'usability': 0,
                'performance': 0,
                'consistency': 0,
                'responsive': 0
            };

            const severityData = {
                'high': 0,
                'medium': 0,
                'low': 0
            };

            results.issues.forEach(issue => {
                categoryData[issue.category]++;
                severityData[issue.severity]++;
            });

            // 카테고리 차트 업데이트
            categoryChart.data.datasets[0].data = [
                categoryData.accessibility,
                categoryData.usability,
                categoryData.performance,
                categoryData.consistency,
                categoryData.responsive
            ];
            categoryChart.update();

            // 심각도 차트 업데이트
            severityChart.data.datasets[0].data = [
                severityData.high,
                severityData.medium,
                severityData.low
            ];
            severityChart.update();
        }

        // 리포트 내보내기
        function exportReport() {
            if (!validationResults) {
                showMessage('먼저 UI/UX 검증을 실행하세요.', 'error');
                return;
            }

            const report = {
                timestamp: new Date().toISOString(),
                score: validationResults.score,
                summary: {
                    totalIssues: validationResults.totalIssues,
                    errors: validationResults.errors,
                    warnings: validationResults.warnings,
                    info: validationResults.info
                },
                issues: validationResults.issues,
                recommendations: validationResults.recommendations
            };

            const blob = new Blob([JSON.stringify(report, null, 2)], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `uiux-report-${new Date().toISOString().split('T')[0]}.json`;
            a.click();
            URL.revokeObjectURL(url);

            showMessage('리포트가 내보내기되었습니다.', 'success');
        }

        // 자동 검증 설정
        function scheduleValidation() {
            alert('자동 검증 설정 기능을 구현합니다.');
        }

        // 메시지 표시
        function showMessage(message, type) {
            const messageDiv = document.getElementById('message');
            messageDiv.innerHTML = `<div class="${type}">${message}</div>`;

            setTimeout(() => {
                messageDiv.innerHTML = '';
            }, 5000);
        }

        // 자동 새로고침 (10분마다)
        setInterval(() => {
            if (validationResults) {
                runValidation();
            }
        }, 10 * 60 * 1000);
    </script>
</body>

</html>