# ==============================================
# Community Platform - Environment Variables
# ==============================================

# --------------------------------------------
# JWT Configuration (REQUIRED)
# --------------------------------------------

# JWT Secret Key (REQUIRED - Generate using: node scripts/generate-jwt-secret.js)
# IMPORTANT: This must be at least 32 characters long
# Never commit the actual secret to version control!
# The server will NOT start without this variable set!
JWT_SECRET=

# Session Secret (OPTIONAL - will use JWT_SECRET if not set)
# Recommended: Use a separate secret for sessions
SESSION_SECRET=

# JWT Token Expiration Times (seconds)
JWT_ACCESS_TTL_SEC=900          # 15 minutes
JWT_REFRESH_TTL_SEC=1209600     # 14 days

# JWT Issuer and Audience
JWT_ISSUER=community-platform
JWT_AUDIENCE=community-platform-users

# --------------------------------------------
# Database Configuration
# --------------------------------------------

# MySQL Database
DB_HOST=127.0.0.1
DB_PORT=3306
DB_USER=root
DB_PASS=your_password
DB_NAME=community

# --------------------------------------------
# Redis Configuration (Optional)
# --------------------------------------------

REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# --------------------------------------------
# ML Recommendation Service Configuration
# --------------------------------------------

# ML Service URL (Python FastAPI)
ML_SERVICE_URL=http://localhost:8000
ML_API_KEY=your_ml_api_key_here

# Recommendation Cache TTL (seconds)
RECOMMENDATION_CACHE_TTL=3600

# ML Service Request Timeout (milliseconds)
ML_REQUEST_TIMEOUT=5000

# --------------------------------------------
# Server Configuration
# --------------------------------------------

PORT=50000
NODE_ENV=development

# CORS Origins (comma-separated)
CORS_ORIGINS=http://localhost:5173,http://localhost:3000

# --------------------------------------------
# Docker Deployment Configuration
# --------------------------------------------

# Docker Compose uses these variables
# Database Configuration for Docker (MySQL)
DOCKER_DB_HOST=database
DOCKER_DB_PORT=3306
DOCKER_DB_USER=root
DOCKER_DB_PASSWORD=password1234
DOCKER_DB_NAME=community

# Redis Configuration for Docker
DOCKER_REDIS_HOST=redis
DOCKER_REDIS_PORT=6379
DOCKER_REDIS_PASSWORD=redis_password
DOCKER_REDIS_DB=0

# Elasticsearch Configuration for Docker
DOCKER_ES_HOST=elasticsearch
DOCKER_ES_PORT=9200

# --------------------------------------------
# Security Configuration
# --------------------------------------------

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000     # 15 minutes
RATE_LIMIT_MAX_REQUESTS=100

# --------------------------------------------
# Notes
# --------------------------------------------

# 1. Copy this file to .env and fill in the values
# 2. Never commit .env to version control
# 3. Generate JWT_SECRET using: node scripts/generate-jwt-secret.js
# 4. JWT_SECRET must be at least 32 characters long
