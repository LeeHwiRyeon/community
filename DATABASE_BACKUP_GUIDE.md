# ğŸ—„ï¸ ë°ì´í„°ë² ì´ìŠ¤ ë°±ì—… ì‹œìŠ¤í…œ ê°€ì´ë“œ

## ğŸ“‹ ê°œìš”

ë‰´ìŠ¤ í˜ì´í¼ VIP ê´€ë¦¬ ì‹œìŠ¤í…œì˜ ë°ì´í„°ë² ì´ìŠ¤ ë°±ì—… ì‹œìŠ¤í…œì€ SQLite ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ìë™ìœ¼ë¡œ ë°±ì—…í•˜ê³  ê´€ë¦¬í•˜ëŠ” ì™„ì „ ìë™í™”ëœ ì‹œìŠ¤í…œì…ë‹ˆë‹¤.

## ğŸš€ ì£¼ìš” ê¸°ëŠ¥

- âœ… **ìë™ ë°±ì—…**: ìŠ¤ì¼€ì¤„ì— ë”°ë¥¸ ìë™ ë°±ì—… ì‹¤í–‰
- âœ… **ë‹¤ì¤‘ ë°±ì—… ì „ëµ**: ì¼ì¼, ì¦ë¶„, ì£¼ê°„, ì›”ê°„ ë°±ì—…
- âœ… **ì••ì¶• ì§€ì›**: ë°±ì—… íŒŒì¼ ìë™ ì••ì¶•ìœ¼ë¡œ ì €ì¥ ê³µê°„ ì ˆì•½
- âœ… **ë³´ì¡´ ì •ì±…**: ì„¤ì • ê°€ëŠ¥í•œ ë°±ì—… ë³´ì¡´ ê¸°ê°„
- âœ… **ë³µì› ê¸°ëŠ¥**: ë°±ì—… íŒŒì¼ë¡œë¶€í„° ë°ì´í„°ë² ì´ìŠ¤ ë³µì›
- âœ… **ëª¨ë‹ˆí„°ë§**: ë°±ì—… ìƒíƒœ ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§
- âœ… **API ì§€ì›**: RESTful APIë¥¼ í†µí•œ ë°±ì—… ê´€ë¦¬

## ğŸ“ ë””ë ‰í† ë¦¬ êµ¬ì¡°

```
D:/database/thenewspaper/
â”œâ”€â”€ thenewspaperdata.db          # ë©”ì¸ ë°ì´í„°ë² ì´ìŠ¤
â””â”€â”€ Backups/                     # ë°±ì—… ë””ë ‰í† ë¦¬
    â”œâ”€â”€ backup_2025-09-28_09-25-03.db
    â”œâ”€â”€ backup_2025-09-27_02-00-00.db.gz
    â””â”€â”€ ...
```

## âš™ï¸ ë°±ì—… ì„¤ì •

### í™˜ê²½ ë³€ìˆ˜

```bash
# ë°ì´í„°ë² ì´ìŠ¤ ê²½ë¡œ
DB_PATH=D:/database/thenewspaper/thenewspaperdata.db

# ë°±ì—… ë””ë ‰í† ë¦¬
BACKUP_PATH=D:/database/thenewspaper/Backups

# ë°±ì—… ë³´ì¡´ ê¸°ê°„ (ì¼)
BACKUP_RETENTION_DAYS=30

# ë°±ì—… ì••ì¶• í™œì„±í™”
BACKUP_COMPRESSION=true
```

### ë°±ì—… ìŠ¤ì¼€ì¤„

| ë°±ì—… ìœ í˜•     | ìŠ¤ì¼€ì¤„                     | ì„¤ëª…                   |
| ------------- | -------------------------- | ---------------------- |
| **ì¼ì¼ ë°±ì—…** | ë§¤ì¼ ìƒˆë²½ 2ì‹œ              | ì „ì²´ ë°ì´í„°ë² ì´ìŠ¤ ë°±ì—… |
| **ì¦ë¶„ ë°±ì—…** | ë§¤ 6ì‹œê°„ (8ì‹œ, 14ì‹œ, 20ì‹œ) | ë¹ ë¥¸ ë°±ì—…              |
| **ì£¼ê°„ ë°±ì—…** | ë§¤ì£¼ ì¼ìš”ì¼ ìƒˆë²½ 3ì‹œ       | ì£¼ê°„ ì „ì²´ ë°±ì—…         |
| **ì›”ê°„ ë°±ì—…** | ë§¤ì›” 1ì¼ ìƒˆë²½ 4ì‹œ          | ì›”ê°„ ì•„ì¹´ì´ë¸Œ ë°±ì—…     |

## ğŸ”§ ì‚¬ìš©ë²•

### 1. ìë™ ë°±ì—… (ì„œë¹„ìŠ¤ ì‹œì‘ ì‹œ ìë™ ì‹¤í–‰)

ì„œë²„ê°€ ì‹œì‘ë˜ë©´ ë°±ì—… ìŠ¤ì¼€ì¤„ëŸ¬ê°€ ìë™ìœ¼ë¡œ ì‹œì‘ë©ë‹ˆë‹¤.

```bash
# ì„œë²„ ì‹œì‘ (ë°±ì—… ìŠ¤ì¼€ì¤„ëŸ¬ ìë™ ì‹œì‘)
node server.js
```

### 2. ìˆ˜ë™ ë°±ì—… ì‹¤í–‰

```bash
# CLIë¥¼ í†µí•œ ìˆ˜ë™ ë°±ì—…
node scripts/backup-database.js backup

# APIë¥¼ í†µí•œ ìˆ˜ë™ ë°±ì—…
curl -X POST http://localhost:3001/api/backup/backup
```

### 3. ë°±ì—… ìƒíƒœ í™•ì¸

```bash
# CLIë¥¼ í†µí•œ ìƒíƒœ í™•ì¸
node scripts/backup-database.js status

# APIë¥¼ í†µí•œ ìƒíƒœ í™•ì¸
curl http://localhost:3001/api/backup/status
```

### 4. ë°±ì—… ë³µì›

```bash
# CLIë¥¼ í†µí•œ ë³µì›
node scripts/backup-database.js restore backup_2025-09-28_09-25-03.db

# APIë¥¼ í†µí•œ ë³µì›
curl -X POST http://localhost:3001/api/backup/restore \
  -H "Content-Type: application/json" \
  -d '{"backupFileName": "backup_2025-09-28_09-25-03.db"}'
```

## ğŸ“Š API ì—”ë“œí¬ì¸íŠ¸

### ë°±ì—… ê´€ë¦¬

| ë©”ì„œë“œ   | ì—”ë“œí¬ì¸íŠ¸                       | ì„¤ëª…               |
| -------- | -------------------------------- | ------------------ |
| `GET`    | `/api/backup/status`             | ë°±ì—… ìƒíƒœ í™•ì¸     |
| `POST`   | `/api/backup/backup`             | ìˆ˜ë™ ë°±ì—… ì‹¤í–‰     |
| `GET`    | `/api/backup/files`              | ë°±ì—… íŒŒì¼ ëª©ë¡     |
| `POST`   | `/api/backup/restore`            | ë°±ì—… ë³µì›          |
| `GET`    | `/api/backup/download/:filename` | ë°±ì—… íŒŒì¼ ë‹¤ìš´ë¡œë“œ |
| `DELETE` | `/api/backup/files/:filename`    | ë°±ì—… íŒŒì¼ ì‚­ì œ     |

### ìŠ¤ì¼€ì¤„ëŸ¬ ê´€ë¦¬

| ë©”ì„œë“œ | ì—”ë“œí¬ì¸íŠ¸                    | ì„¤ëª…          |
| ------ | ----------------------------- | ------------- |
| `POST` | `/api/backup/scheduler/start` | ìŠ¤ì¼€ì¤„ëŸ¬ ì‹œì‘ |
| `POST` | `/api/backup/scheduler/stop`  | ìŠ¤ì¼€ì¤„ëŸ¬ ì¤‘ì§€ |

## ğŸ” ëª¨ë‹ˆí„°ë§

### ë°±ì—… ìƒíƒœ í™•ì¸

```bash
# ì „ì²´ ë°±ì—… ìƒíƒœ
curl http://localhost:3001/api/backup/status

# ì‘ë‹µ ì˜ˆì‹œ
{
  "success": true,
  "data": {
    "backup": {
      "totalBackups": 5,
      "totalSize": "2.5 MB",
      "latestBackup": {
        "name": "backup_2025-09-28_09-25-03.db",
        "size": "0.05 MB",
        "created": "2025-09-28T00:25:03.000Z",
        "isCompressed": false
      },
      "backups": [...]
    },
    "scheduler": {
      "isRunning": true,
      "activeSchedules": ["daily", "incremental", "weekly", "monthly"],
      "totalSchedules": 4
    }
  }
}
```

### ë¡œê·¸ ëª¨ë‹ˆí„°ë§

ë°±ì—… ê´€ë ¨ ë¡œê·¸ëŠ” ì„œë²„ ë¡œê·¸ì— ê¸°ë¡ë©ë‹ˆë‹¤:

```
2025-09-28 09:25:03:1727 info: ğŸ”„ ë°ì´í„°ë² ì´ìŠ¤ ë°±ì—… ì‹œì‘: D:/database/thenewspaper/thenewspaperdata.db
2025-09-28 09:25:03:1846 info: âœ… ë°±ì—… ì™„ë£Œ: D:\database\thenewspaper\Backups\backup_2025-09-28_09-25-03.db (0.05 MB)
```

## ğŸ› ï¸ ë¬¸ì œ í•´ê²°

### ì¼ë°˜ì ì¸ ë¬¸ì œ

#### 1. ë°±ì—… ì‹¤íŒ¨
```bash
# ì›ì¸: ë°ì´í„°ë² ì´ìŠ¤ íŒŒì¼ì´ ì‚¬ìš© ì¤‘
# í•´ê²°: ì„œë²„ë¥¼ ì¼ì‹œ ì¤‘ì§€í•˜ê³  ë°±ì—… ì‹¤í–‰

# ì›ì¸: ë””ìŠ¤í¬ ê³µê°„ ë¶€ì¡±
# í•´ê²°: ì˜¤ë˜ëœ ë°±ì—… íŒŒì¼ ì‚­ì œ ë˜ëŠ” ë””ìŠ¤í¬ ê³µê°„ í™•ë³´
```

#### 2. ë³µì› ì‹¤íŒ¨
```bash
# ì›ì¸: ë°±ì—… íŒŒì¼ì´ ì†ìƒë¨
# í•´ê²°: ë‹¤ë¥¸ ë°±ì—… íŒŒì¼ ì‚¬ìš©

# ì›ì¸: ê¶Œí•œ ë¶€ì¡±
# í•´ê²°: ê´€ë¦¬ì ê¶Œí•œìœ¼ë¡œ ì‹¤í–‰
```

#### 3. ìŠ¤ì¼€ì¤„ëŸ¬ê°€ ì‹œì‘ë˜ì§€ ì•ŠìŒ
```bash
# ì›ì¸: node-cron íŒ¨í‚¤ì§€ ëˆ„ë½
# í•´ê²°: npm install node-cron

# ì›ì¸: ì‹œê°„ëŒ€ ì„¤ì • ë¬¸ì œ
# í•´ê²°: ì‹œìŠ¤í…œ ì‹œê°„ëŒ€ë¥¼ Asia/Seoulë¡œ ì„¤ì •
```

### ë¡œê·¸ í™•ì¸

```bash
# ì„œë²„ ë¡œê·¸ì—ì„œ ë°±ì—… ê´€ë ¨ ë¡œê·¸ í™•ì¸
tail -f logs/api-server.log | grep -i backup

# ë°±ì—… ìŠ¤ì¼€ì¤„ëŸ¬ ë¡œê·¸ í™•ì¸
node scripts/backup-scheduler.js status
```

## ğŸ”’ ë³´ì•ˆ ê³ ë ¤ì‚¬í•­

### ë°±ì—… íŒŒì¼ ë³´ì•ˆ

1. **ì ‘ê·¼ ê¶Œí•œ**: ë°±ì—… ë””ë ‰í† ë¦¬ëŠ” ê´€ë¦¬ìë§Œ ì ‘ê·¼ ê°€ëŠ¥í•˜ë„ë¡ ì„¤ì •
2. **ì•”í˜¸í™”**: ë¯¼ê°í•œ ë°ì´í„°ê°€ í¬í•¨ëœ ê²½ìš° ë°±ì—… íŒŒì¼ ì•”í˜¸í™” ê³ ë ¤
3. **ë„¤íŠ¸ì›Œí¬ ì „ì†¡**: ë°±ì—… íŒŒì¼ ì „ì†¡ ì‹œ HTTPS ì‚¬ìš©

### ê¶Œí•œ ê´€ë¦¬

```bash
# ë°±ì—… ë””ë ‰í† ë¦¬ ê¶Œí•œ ì„¤ì • (Windows)
icacls "D:\database\thenewspaper\Backups" /grant:r "Administrators:(OI)(CI)F"

# ë°±ì—… ë””ë ‰í† ë¦¬ ê¶Œí•œ ì„¤ì • (Linux)
chmod 700 /path/to/backups
chown root:root /path/to/backups
```

## ğŸ“ˆ ì„±ëŠ¥ ìµœì í™”

### ë°±ì—… ì„±ëŠ¥ í–¥ìƒ

1. **ì••ì¶• ì‚¬ìš©**: `BACKUP_COMPRESSION=true`ë¡œ ì„¤ì •
2. **ë³´ì¡´ ê¸°ê°„ ì¡°ì •**: í•„ìš”ì— ë”°ë¼ `BACKUP_RETENTION_DAYS` ì¡°ì •
3. **ìŠ¤ì¼€ì¤„ ìµœì í™”**: ì‹œìŠ¤í…œ ë¶€í•˜ê°€ ì ì€ ì‹œê°„ì— ë°±ì—… ì‹¤í–‰

### ëª¨ë‹ˆí„°ë§ ì„¤ì •

```bash
# ë°±ì—… ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§
curl http://localhost:3001/api/monitoring/metrics

# ë””ìŠ¤í¬ ì‚¬ìš©ëŸ‰ í™•ì¸
du -sh D:/database/thenewspaper/Backups/
```

## ğŸš¨ ì•Œë¦¼ ì„¤ì •

### ë°±ì—… ì‹¤íŒ¨ ì•Œë¦¼

í˜„ì¬ ì‹œìŠ¤í…œì€ ë¡œê·¸ë¥¼ í†µí•œ ì•Œë¦¼ì„ ì œê³µí•©ë‹ˆë‹¤. ì‹¤ì œ ìš´ì˜ í™˜ê²½ì—ì„œëŠ” ë‹¤ìŒì„ ê³ ë ¤í•˜ì„¸ìš”:

1. **ì´ë©”ì¼ ì•Œë¦¼**: ë°±ì—… ì‹¤íŒ¨ ì‹œ ê´€ë¦¬ìì—ê²Œ ì´ë©”ì¼ ì „ì†¡
2. **ìŠ¬ë™ ì•Œë¦¼**: ì‹¤ì‹œê°„ ì•Œë¦¼ì„ ìœ„í•œ ìŠ¬ë™ ì›¹í›… ì—°ë™
3. **SMS ì•Œë¦¼**: ê¸´ê¸‰ ìƒí™© ì‹œ SMS ì „ì†¡

### ì•Œë¦¼ ì„¤ì • ì˜ˆì‹œ

```javascript
// ì´ë©”ì¼ ì•Œë¦¼ ì„¤ì • (ì˜ˆì‹œ)
const nodemailer = require('nodemailer');

const transporter = nodemailer.createTransporter({
  service: 'gmail',
  auth: {
    user: 'admin@thenewspaper.com',
    pass: 'your-password'
  }
});

// ë°±ì—… ì‹¤íŒ¨ ì‹œ ì´ë©”ì¼ ì „ì†¡
await transporter.sendMail({
  from: 'admin@thenewspaper.com',
  to: 'admin@thenewspaper.com',
  subject: 'ë°ì´í„°ë² ì´ìŠ¤ ë°±ì—… ì‹¤íŒ¨',
  text: `ë°±ì—…ì´ ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤: ${error.message}`
});
```

## ğŸ“š ì¶”ê°€ ë¦¬ì†ŒìŠ¤

- [SQLite ë°±ì—… ë¬¸ì„œ](https://www.sqlite.org/backup.html)
- [Node-cron ìŠ¤ì¼€ì¤„ë§](https://www.npmjs.com/package/node-cron)
- [Express.js API ê°œë°œ](https://expressjs.com/)

## ğŸ†˜ ì§€ì›

ë°±ì—… ì‹œìŠ¤í…œ ê´€ë ¨ ë¬¸ì œê°€ ë°œìƒí•˜ë©´ ë‹¤ìŒì„ í™•ì¸í•˜ì„¸ìš”:

1. ì„œë²„ ë¡œê·¸ í™•ì¸
2. ë°±ì—… ë””ë ‰í† ë¦¬ ê¶Œí•œ í™•ì¸
3. ë””ìŠ¤í¬ ê³µê°„ í™•ì¸
4. ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° ìƒíƒœ í™•ì¸

---

**ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸**: 2025-09-28  
**ë²„ì „**: 1.0.0  
**ì‘ì„±ì**: News Paper VIP Development Team
